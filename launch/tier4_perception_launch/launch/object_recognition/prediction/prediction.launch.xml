<?xml version="1.0"?>
<launch>
  <arg name="use_vector_map" default="false" description="use vector map in prediction"/>
  <arg name="input/objects" default="/perception/object_recognition/tracking/objects"/>
  <arg name="use_v2i_fusion_planning" default="false" description="use V2I fusion planning"/>

  <group if="$(var use_vector_map)">
    <let name="output_topic" value="/perception/object_recognition/standalone/objects" if="$(var use_v2i_fusion_planning)"/>
    <let name="output_topic" value="/perception/object_recognition/objects" unless="$(var use_v2i_fusion_planning)"/>
    <set_remap from="objects" to="$(var output_topic)"/>
    <include file="$(find-pkg-share autoware_map_based_prediction)/launch/map_based_prediction.launch.xml">
      <arg name="output_topic" value="$(var output_topic)"/>
      <arg name="input_topic" value="$(var input/objects)"/>
      <arg name="param_path" value="$(var object_recognition_prediction_map_based_prediction_param_path)"/>
    </include>
  </group>
  <group unless="$(var use_vector_map)">
    <!-- Not support without vector map -->
  </group>
</launch>
