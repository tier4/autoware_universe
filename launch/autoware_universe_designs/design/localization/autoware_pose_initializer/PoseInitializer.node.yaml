autoware_system_design_format: v0.1.0

# node information
name: PoseInitializer.node

launch:
  package: autoware_pose_initializer
  plugin: autoware::pose_initializer::PoseInitializer
  executable: autoware_pose_initializer_node
  node_output: screen

# interfaces
inputs: []

outputs:
  - name: initialization_state
    message_type: autoware_adapi_v1_msgs/msg/LocalizationInitializationState
    qos:
      reliability: reliable
      durability: transient_local
  - name: initialpose3d
    message_type: geometry_msgs/msg/PoseWithCovarianceStamped
  - name: initialize
    message_type: autoware_localization_msgs/srv/InitializeLocalization

# parameters
parameter_files:
  - name: config_file
    default: config/pose_initializer.param.yaml

parameters:
  - name: ekf_enabled
    default: false
  - name: gnss_enabled
    default: false
  - name: ndt_enabled
    default: false
  - name: yabloc_enabled
    default: false
  - name: stop_check_enabled
    default: false
  - name: pose_error_check_enabled
    default: false
  - name: stop_check_duration
    default: 0.0
  - name: gnss_pose_timeout
    default: 0.0
  - name: user_defined_initial_pose.enable
    default: false
  - name: map_height_fitter.map_loader_name
    default: /map/pointcloud_map_loader
  - name: map_height_fitter.target
    default: pointcloud_map

# processes
processes:
  - name: initialize
    trigger_conditions: []
    outcomes:
      - to_output: initialization_state
      - to_output: initialpose3d
