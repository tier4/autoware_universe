## livox_tag_filter

## 目的

`livox_tag_filter`は、以下のタグを使用して点群からノイズを除去するノードです。

- 空間的位置に基づくポイントプロパティ
- 強度に基づくポイントプロパティ
- リターン番号

## 内部動作 / アルゴリズム

## 入出力

### 入力

| 名前      | タイプ                            | 説明      |
| --------- | ------------------------------- | ----------- |
| `~/input` | `sensor_msgs::msg::PointCloud2` | 基準点 |

### 出力

Autowareは、ROS Fuerteで動作する自己運転車向けのオープンソースソフトウェアスタックです。

#### システムの全体像

Autowareのアーキテクチャは以下のモジュールで構成されています。

* **Planning**：経路計画と速度計画を実行します。
* **Control**：自車位置とその他の情報を考慮して、車の制御を行います。
* **Perception**：センサーデータから自車周囲の環境を認識します。
* **Localization**：自車位置を推定します。

#### 詳細なモジュール

**Perception**モジュールでは、以下を実行します。

* **カメラ処理**：画像から物体検出、セグメンテーション、深さ推定を行います。
* **LiDAR処理**：点群から物体検出、トラッキング、クラスタリングを行います。
* **レーダー処理**：レーダー信号から物体検出、速度推定を行います。

**Planning**モジュールでは、以下を実行します。

* **経路計画**：現在の地図と自車位置に基づいて、目的地まで安全な経路を生成します。
* **速度計画**：経路計画に基づいて、速度プロファイルを作成します。

**Control**モジュールでは、以下を実行します。

* **ステアリング制御**：目標ステアリング角を生成し、車両のステアリングを行います。
* **スロットル制御**：目標速度を生成し、車両の速度を制御します。
* **ブレーキ制御**：障害物との衝突回避のために、車両のブレーキを行います。

**Localization**モジュールでは、以下を実行します。

* **GNSS測位**：衛星信号を使用して自車位置を推定します。
* **IMU慣性航法**：加速度計とジャイロスコープを使用して、IMU（慣性計測装置）の姿勢と速度を更新します。
* **'post resampling' SLAM**：センサーデータと地図をマージして、自車位置を高精度に推定します。

| 名称 | タイプ | 説明 |
|---|---|---|
| `~/output` | `sensor_msgs::msg::PointCloud2` | フィルタ処理されたポイント |

## パラメータ

### ノードパラメータ

| 名                  | 型            | 説明                            |
| ------------- | --------------- | -------------------------------------- |
| `ignore_tags` | vector<int64_t> | 無視されるタグ (以下の表を参照) |

### タグパラメータ

## Autoware自動運転ソフトウェアのドキュメント

### PointCloud2のBitフィールド

| Bit | 説明 | オプション |
| --- | -------------------- | ------------------- |
| 0~1 | 空間位置に基づく点のプロパティ | 00: 通常 |
|     |                               | 01: ノイズの信頼度が高い |
|     |                               | 10: ノイズの信頼度が適度 |
|     |                               | 11: ノイズの信頼度が低い |
| 2~3 | 強度に基づく点のプロパティ | 00: 通常 |
|     |                               | 01: ノイズの信頼度が高い |
|     |                               | 10: ノイズの信頼度が適度 |
|     |                               | 11: 予約 |
| 4~5 | リターン番号 | 00: リターン0 |
|     |                               | 01: リターン1 |
|     |                               | 10: リターン2 |
|     |                               | 11: リターン3 |
| 6~7 | 予約 | |

## 想定事項/既知の制限

## (任意) エラー検出と処理

## (任意) パフォーマンス特性

## (任意) 参考文献/外部リンク

[1] <https://www.livoxtech.com/downloads>

## (任意) 将来の拡張/未実装部分

