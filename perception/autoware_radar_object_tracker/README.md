## `autoware_radar_object_tracker`

## 目的

このパッケージは、検出されたオブジェクトのシーケンスを処理して、それらに一貫した ID を割り当て、速度を見積もるレーダーオブジェクト追跡ノードを提供します。

## 内部動作 / アルゴリズム

このレーダーオブジェクトトラッカーは、データ関連付けと追跡アルゴリズムの組み合わせです。

<!-- 今後、ここに概要図を追加できます -->
<!-- ![radar_object_tracker_overview](image/radar_object_tracker_overview.svg) -->

### データ関連付け

データ関連付けアルゴリズムは、検出されたオブジェクトと既存の軌跡を照合します。

### トラッカーモデル

このパッケージで使用されるトラッカーモデルは、検出されたオブジェクトのクラスによって異なります。
詳細については [models.md](models.md) をご覧ください。

<!-- 今後、このパッケージの仕組みについてのフローチャート、状態遷移、その他の詳細を追加できます。 -->

## 入力 / 出力

### 入力

| 名前             | 型                                               | 説明                           |
| ------------------ | -------------------------------------------------- | ------------------------------ |
| `~/input`           | `autoware_perception_msgs::msg::DetectedObjects` | 検出されたオブジェクト           |
| `/vector/map`       | `autoware_map_msgs::msg::LaneletMapBin`          | マップデータ                     |

### 出力

**Autoware自律運転ソフトウェアのPlanningモジュール**

**概要**

Planningモジュールは、Autoware自律運転ソフトウェアの主要コンポーネントです。モジュールは、自車位置と周囲環境に関する情報を分析し、安全かつ効率的な経路を生成します。このモジュールは、以下の機能を実行します。

* 地図データを解析し、周囲環境に関する情報を抽出します。
* 自車位置をリアルタイムで追跡します。
* 周囲の車両、歩行者、障害物などの他の交通参加者を検出します。
* 自律走行車に最適な経路を生成します。
* 障害物を回避するための回避策を計画します。

**技術的詳細**

Planningモジュールは、以下を含むさまざまな技術に基づいています。

* 地図マッチング
* ローカリゼーション
* オブジェクト検出
* パス計画
* 'post resampling'

**インターフェイス**

Planningモジュールは、他のAutowareコンポーネントと以下のインターフェイスを使用して通信します。

* **Map Module:** 地図データ
* **Localization Module:** 自車位置
* **Perception Module:** オブジェクト検出結果
* **Control Module:** 経路生成コマンド

**実装**

Planningモジュールは、C++とPythonで実装されています。

**ドキュメンテーション**

Planningモジュールの詳細なドキュメンテーションは、次の場所でご覧いただけます。

[ドキュメンテーションURL]

| 名前 | タイプ | 説明 |
|---|---|---|
| `~/output` | `autoware_perception_msgs::msg::TrackedObjects` | 検出されたオブジェクト |

## パラメーター

### Node パラメーター

| 名称                               | 型   | デフォルト値               | 説明                                                                                                     |
| ----------------------------------- | ------ | --------------------------- | --------------------------------------------------------------------------------------------------------------- |
| `publish_rate`                       | double | 10.0                        | 出力メッセージをパブリッシュするレート                                                                      |
| `world_frame_id`                     | string | "map"                       | 世界座標系のフレーム ID                                                                                  |
| `enable_delay_compensation`          | bool   | false                       | 遅延補正を有効にするかどうか。`true`に設定すると、出力トピックは`publish_rate`でタイマーによってパブリッシュされます。 |
| `tracking_config_directory`          | string | "./config/tracking/"        | トラッキング設定ファイルを含むディレクトリ                                                                 |
| `enable_logging`                     | bool   | false                       | ロギングを有効にするかどうか                                                                               |
| `logging_file_path`                  | string | "/tmp/association_log.json" | ログを書き込むファイルへのパス                                                                             |
| `tracker_lifetime`                   | double | 1.0                         | トラッカーの有効期間（秒）                                                                                  |
| `use_distance_based_noise_filtering` | bool   | true                        | 距離ベースのフィルタリングを使用するかどうか                                                               |
| `minimum_range_threshold`            | double | 70.0                        | フィルタリングの最小距離しきい値（メートル）                                                               |
| `use_map_based_noise_filtering`      | bool   | true                        | マップベースのフィルタリングを使用するかどうか                                                               |
| `max_distance_from_lane`             | double | 5.0                         | フィルタリングのレーンからの最大距離（メートル）                                                             |
| `max_angle_diff_from_lane`           | double | 0.785398                    | フィルタリングのレーンからの最大角度差（ラジアン）                                                           |
| `max_lateral_velocity`               | double | 5.0                         | フィルタリングの最大横方向速度（m/s）                                                                   |
| `can_assign_matrix`                  | array  |                             | データ関連付けアルゴリズムで使用される整数の配列                                                           |
| `max_dist_matrix`                    | array  |                             | データ関連付けアルゴリズムで使用される倍精度の配列                                                        |
| `max_area_matrix`                    | array  |                             | データ関連付けアルゴリズムで使用される倍精度の配列                                                        |
| `min_area_matrix`                    | array  |                             | データ関連付けアルゴリズムで使用される倍精度の配列                                                        |
| `max_rad_matrix`                     | array  |                             | データ関連付けアルゴリズムで使用される倍精度の配列                                                        |
| `min_iou_matrix`                     | array  |                             | データ関連付けアルゴリズムで使用される倍精度の配列                                                        |

[models.md](models.md) で詳細をご覧ください。

### トラッカーパラメータ

現在、このパッケージでは以下のトラッカーをサポートしています。

- `linear_motion_tracker`
- `constant_turn_rate_motion_tracker`

各トラッカーのデフォルト設定は [./config/tracking/](./config/tracking/) で定義され、[models.md](models.md) で説明しています。

## 仮定/既知の制限

<!-- 今後、このパッケージの仮定と既知の制限を追加できます。 -->

## (オプション) エラーの検出と処理

<!-- 今後、このパッケージがどのようにエラーを検出し処理するかについて詳細を追加できます。 -->

## (オプション) パフォーマンスの特性評価

<!-- 今後、このパッケージのパフォーマンスについて詳細を追加できます。 -->

## (オプション) リファレンス/外部リンク

<!-- 今後、このパッケージで使用される外部コードへのリファレンスとリンクを追加できます。 -->

## (オプション) 将来の拡張/実装されていない部分

<!-- 今後、このパッケージの計画されている拡張や実装されていない部分について詳細を追加できます。 -->

