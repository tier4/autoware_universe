# `autoware_object_range_splitter`

## 目的

`autoware_object_range_splitter`は、検出されたオブジェクトを始点からの距離によって2つのメッセージに分割するパッケージです。

## 仕組み / アルゴリズム

<!-- このパッケージの仕組みを記載します。フローチャートや図が適しています。必要に応じて小見出しを追加してください。

例:
  ### フローチャート

  ...(PlantUMLなど)

  ### 状態遷移

  ...(PlantUMLなど)

  ### 対象障害物のフィルタリング方法

  ...

  ### 軌跡の最適化方法

  ...
-->

## 入力 / 出力

### 入力

| 名称           | 型                                               | 説明             |
| -------------- | ------------------------------------------------ | ---------------- |
| `input/object` | `autoware_perception_msgs::msg::DetectedObjects` | 検出オブジェクト |

### 出力

**自動運転ソフトウェア**

[Autoware](https://www.autoware.ai/) は、自動車の自動運転を可能にするオープンソースソフトウェアプラットフォームです。本ドキュメントでは、Autoware の Planning コンポーネント/モジュールが生成する `post resampling` 出力を説明します。

`post resampling` 出力は、Autoware の Planning コンポーネント/モジュールによって生成され、自車位置や経路計画などの情報を提供します。この出力を利用することで、自動運転システムは最新の状況を把握し、最適な動作を決定できます。

`post resampling` 出力の内容は次のとおりです。

- **自車位置:** Autoware の Planning コンポーネント/モジュールは、センサデータを利用して自車位置を特定します。`post resampling` 出力には、自車位置に関する次の情報が含まれます。
    - グローバル座標系における位置
    - ローカル座標系における位置
    - 姿勢 (ヨー角、ピッチ角、ロール角)
- **経路計画:** Autoware の Planning コンポーネント/モジュールは、現在の状況に基づいて経路を計画します。`post resampling` 出力には、経路計画に関する次の情報が含まれます。
    - 経路上のウェイポイント
    - 経路の曲率と勾配
    - 速度制限
- **障害物:** Autoware の Planning コンポーネント/モジュールは、周囲の障害物を検出します。`post resampling` 出力には、障害物に関する次の情報が含まれます。
    - 障害物の位置とサイズ
    - 障害物のタイプ (車両、歩行者、自転車など)
    - 障害物の速度と加速度

`post resampling` 出力は、自動運転システムが安全かつ効率的に動作するために不可欠な情報です。この出力を利用することで、自動運転システムは周囲の状況を把握し、最適な動作を決定できます。

| 名前                         | タイプ                                                | 説明                               |
| ---------------------------- | --------------------------------------------------- | ----------------------------------- |
| `output/long_range_object`  | `autoware_perception_msgs::msg::DetectedObjects`     | 長距離検出オブジェクト |
| `output/short_range_object` | `autoware_perception_msgs::msg::DetectedObjects`     | 短距離検出オブジェクト |

## パラメータ

{{ json_to_markdown("perception/autoware_object_range_splitter/schema/object_range_splitter.schema.json") }}

## 仮定 / 既知の制限事項

<!-- 実装の仮定と制限事項について記載します。

例:
  このアルゴリズムは障害物が動かないことを前提としているため、障害物が車両が回避を開始した後に高速で移動すると、衝突する可能性があります。
  また、このアルゴリズムはブラインドスポットを考慮しません。一般的に、近すぎる障害物はセンサーの性能上の制限により見えないため、障害物に対して十分な余裕を持たせてください。
-->

## (オプション) エラー検出と処理

<!-- エラーを検出する方法と回復方法について記載します。

例:
  このパッケージは最大20個の障害物を処理できます。障害物がそれ以上見つかった場合、このノードは処理を放棄し、診断エラーを発生させます。
-->

## (オプション) パフォーマンス特性

<!-- 複雑性などのパフォーマンス情報を記載します。ボトルネックにならない場合は不要です。

例:
  ### 複雑性

  このアルゴリズムはO(N)です。

  ### 処理時間

  ...
-->

## (オプション) 参考文献/外部リンク

<!-- 実装時に参照したリンクを記載します。

例:
  [1] {link_to_a_thesis}
  [2] {link_to_an_issue}
-->

## (オプション) 将来の拡張/未実装部分

<!-- このパッケージの将来の拡張について記載します。

例:
  現在、このパッケージはチャタリング障害物を適切に処理できません。障害物を改善するために、認識レイヤーに確率的フィルターを追加する予定です。
  また、グローバルにする必要があるパラメータがいくつかあります(例: 車両サイズ、最大操舵角など)。これらはリファクタリングされ、グローバルパラメータとして定義されるため、異なるノード間で同じパラメータを共有できます。
-->

