# autoware クラスタ マージャ

## 目的

autoware_cluster_merger は、特徴タイプを持つ検出オブジェクトとしてポイントクラウド クラスタをマージするためのパッケージです。

## 内部処理 / アルゴリズム

マージされたトピックのクラスタは、単に入力トピックのクラスタから連結されます。

## 入出力

### 入力

| 名称             | 種類                                                     | 説明         |
| ---------------- | -------------------------------------------------------- | ------------------- |
| `input/cluster0` | `tier4_perception_msgs::msg::DetectedObjectsWithFeature` | 点群クラスタ |
| `input/cluster1` | `tier4_perception_msgs::msg::DetectedObjectsWithFeature` | 点群クラスタ |

### 出力

**Autoware**自動運転ソフトウェアの概要

**はじめに**

**Autoware**は、自動運転車両を開発するためのオープンソースソフトウェアプラットフォームです。このドキュメントでは、**Autoware**システムのアーキテクチャと主要コンポーネントについて説明します。

**アーキテクチャ**

**Autoware**アーキテクチャは、以下の中核コンポーネントに基づいています。

- **Perception (認識)**: センサーデータから環境を認識する。
- **Planning (計画)**: 走行経路を計画する。
- **Control (制御)**: 車両を制御する。

**主要コンポーネント**

**Perception (認識)**

- **Lanelet2 Map:** 交通インフラとルールを記述。
- **Object Detector:** 歩行者、車両、その他の物体を検出。
- **Camera Projector:** カメラ画像を3D空間に投影。

**Planning (計画)**

- **Planning Cost Function:** 走行経路の候補を評価。
- **Dynamic Obstacle Avoidance:** 動的障害物を回避。
- **Local Planning:** 自車位置周辺の走行経路を計画。

**Control (制御)**

- **Model Predictive Control (MPC):** 車両の運動を最適化。
- **Vehicle Interface:** 車両の各種機能と通信。
- **Controller Parameters:** 制御パラメータの調整

**その他コンポーネント**

- **Sensor Fusion:** 複数のセンサーデータを統合。
- **Localization:** 自車位置と姿勢の推定。
- **Traffic Light Detector:** 信号機を検出。

**データフロー**

**Autoware**アーキテクチャでは、データはPerception、Planning、Controlコンポーネント間で以下のように流れます。

1. センサーデータがPerceptionモジュールに送信されます。
2. Perceptionモジュールは環境を認識し、結果をPlanningモジュールに送信します。
3. Planningモジュールは走行経路を計画し、結果をControlモジュールに送信します。
4. Controlモジュールは車両を制御します。

**進捗状況と将来の計画**

**Autoware**は現在活発に開発されており、絶えず改善されています。将来の計画には以下が含まれます。

- Planningモジュールの強化
- Controlモジュールの最適化
- 新機能の追加

**貢献**

**Autoware**コミュニティはオープンソースに誇りを持っています。コントリビューターは、新しい機能、バグフィックス、ドキュメントの改善を歓迎します。

**リソース**

- [Autoware GitHubリポジトリ](https://github.com/autowarefoundation/autoware.auto)
- [Autowareドキュメント](https://docs.autoware.io/)
- [Autowareコミュニティフォーラム](https://forum.autoware.io/)

| 名前              | タイプ                                                         | 説明                                                              |
| ----------------- | ------------------------------------------------------------ | ----------------------------------------------------------------- |
| `output/clusters` | `tier4_perception_msgs::msg::DetectedObjectsWithFeature` | マージしたクラスタ                                                 |

## パラメータ

| 名前              | タイプ   | 説明                          | デフォルト値 |
| :---------------- | :----- | :----------------------------------- | :------------ |
| `output_frame_id` | 文字列 | 出力トピックのヘッダ frame_id | base_link     |

## 前提条件と既知の限界

<!-- 実装に関する前提条件と制限事項を記述します。

例:
  このアルゴリズムは障害物が動かないと想定しているため、車両が障害物を回避し始めてから障害物が急速に動いた場合は、障害物と衝突する可能性があります。
  また、このアルゴリズムは死角を考慮しません。一般に、検出性能の限界により、近すぎる障害物は認識できないため、障害物との間に十分な余裕を持たせてください。
-->

## (オプション) エラー検出と処理

<!-- エラーの検出方法と、エラーからの回復方法を記述します。

例:
  このパッケージは最大20個の障害物を処理できます。それ以上の障害物が見つかった場合、このノードは処理を放棄して診断エラーを発生させます。
-->

## (オプション) パフォーマンス特性

<!-- 複雑さなどのパフォーマンス情報を記述します。ボトルネックにならない場合は、不要です。

例:
  ### 複雑さ

  このアルゴリズムの計算量はO(N)です。

  ### 処理時間

  ...
-->

## (オプション) 参照/外部リンク

<!-- 実装時に参考にしたリンクを記述します。

例:
  [1] {link_to_a_thesis}
  [2] {link_to_an_issue}
-->

## (オプション) 将来の拡張/未実装部分

