/**:
  ros__parameters:
    # generate_parameter_library parameters
    planning_frequency_hz: 10.0

    path_length:
      backward: 5.0
      forward: 300.0

    waypoint_group:
      separation_threshold: 1.0
      interval_margin_ratio: 10.0

    smooth_goal_connection:
      search_radius_range: 7.5
      pre_goal_offset: 1.0

    lanelet_ego_nearest_dist_threshold: 3.0
    lanelet_ego_nearest_yaw_threshold: 1.046

    output_delta_arc_length: 0.5

    enable_debug_path: true
    enable_debug_trajectory: true

    # Elastic Band Smoother
    eb_smoother:
      enable: false

    # Velocity Smoother
    velocity_smoother:
      enable: true
      # engage_velocity: 0.25
      # engage_acceleration: 0.5
      # engage_exit_ratio: 0.5

    mpt_optimizer:
      enable: true

    trajectory_mpt_optimizer:
      # Bounds Generation (custom parameters for trajectory_optimizer)
      corridor_width_m: 3.5
      enable_adaptive_width: true
      curvature_width_factor: 0.5
      velocity_width_factor: 0.3
      min_clearance_m: 0.5
      reset_previous_data_each_iteration: true
      enable_debug_info: false
      output_delta_arc_length_m: 1.0
      output_backward_traj_length_m: 5.0
      ego_nearest_dist_threshold_m: 3.0
      ego_nearest_yaw_threshold_deg: 45.0
      acceleration_moving_average_window: 5  # Moving average window size (larger = smoother)

    # MPT Algorithm Parameters (required by autoware_path_optimizer MPTOptimizer)
    # NOTE: These are solver parameters passed to the underlying MPT optimizer.
    # Clearance parameters use "road" terminology from the solver, but in this implementation
    # they represent clearance from the generated corridor bounds (simple perpendicular offsets),
    # NOT actual road boundaries or drivable area from maps.
    mpt:
      option:
        steer_limit_constraint: false
        visualize_sampling_num: 1
        enable_manual_warm_start: false
        enable_warm_start: false
        enable_optimization_validation: false

      common:
        num_points: 100
        delta_arc_length: 1.0

      clearance:
        hard_clearance_from_road: 0.0  # Clearance from corridor bounds (not actual road)
        soft_clearance_from_road: 0.1  # Clearance from corridor bounds (not actual road)

      weight:
        soft_collision_free_weight: 1.0
        lat_error_weight: 1.0
        yaw_error_weight: 0.0
        yaw_error_rate_weight: 0.0
        steer_input_weight: 1.0
        steer_rate_weight: 1.0
        terminal_lat_error_weight: 100.0
        terminal_yaw_error_weight: 100.0
        goal_lat_error_weight: 1000.0
        goal_yaw_error_weight: 1000.0

      avoidance:
        max_bound_fixing_time: 1.0
        max_longitudinal_margin_for_bound_violation: 1.0
        max_avoidance_cost: 0.5
        avoidance_cost_margin: 0.0
        avoidance_cost_band_length: 5.0
        avoidance_cost_decrease_rate: 0.05
        min_drivable_width: 0.2

        weight:
          lat_error_weight: 0.0
          yaw_error_weight: 10.0
          steer_input_weight: 100.0

      collision_free_constraints:
        # NOTE: Collision avoidance is NOT active in this implementation.
        # These parameters are part of the MPT solver configuration but unused
        # because we don't provide obstacle data - only geometric corridor bounds.
        option:
          l_inf_norm: true
          soft_constraint: true
          hard_constraint: false

        vehicle_circles:
          method: "fitting_uniform_circle"

          bicycle_model:
            num_for_calculation: 3
            front_radius_ratio: 1.0
            rear_radius_ratio: 1.0

          uniform_circle:
            num: 3
            radius_ratio: 1.0

          fitting_uniform_circle:
            num: 3

      validation:
        max_lat_error: 5.0
        max_yaw_error: 1.046

    # TrajectoryVelocityOptimizer plugin parameters
    trajectory_velocity_optimizer:
      nearest_dist_threshold_m: 1.5
      nearest_yaw_threshold_deg: 60.0
      target_pull_out_speed_mps: 0.25
      target_pull_out_acc_mps2: 0.5
      max_speed_mps: 13.88
      max_lateral_accel_mps2: 1.5
      set_engage_speed: true
      limit_speed: true
      limit_lateral_acceleration: false
      smooth_velocities: true

    # EBPathSmoother parameters (CommonParam, EgoNearestParam)
    common:
      output_delta_arc_length: 0.5
      output_backward_traj_length: 5.0

    elastic_band:
      option:
        enable_warm_start: true
        enable_optimization_validation: false

      common:
        num_points: 100
        delta_arc_length: 1.0

      clearance:
        num_joint_points: 3
        clearance_for_fix: 0.0
        clearance_for_joint: 0.1
        clearance_for_smooth: 0.1

      weight:
        smooth_weight: 1.0
        lat_error_weight: 0.001

      qp:
        max_iteration: 10000
        eps_abs: 1.0e-7
        eps_rel: 1.0e-7

      validation:
        max_error: 3.0

    # EgoNearestParam for EB smoother
    ego_nearest_dist_threshold: 3.0
    ego_nearest_yaw_threshold: 1.046

    # Replan parameters for EB smoother
    replan:
      enable: true
      max_path_shape_around_ego_lat_dist: 2.0
      max_path_shape_forward_lon_dist: 100.0
      max_path_shape_forward_lat_dist: 0.2
      max_ego_moving_dist: 5.0
      max_goal_moving_dist: 15.0
      max_delta_time_sec: 0.0

    # SmootherBase parameters (required at top level for JerkFilteredSmoother)
    normal:
      max_acc: 1.0
      min_acc: -0.5
      max_jerk: 1.0
      min_jerk: -0.5

    stop_decel: 0.0
    min_decel_for_lateral_acc_lim_filter: -2.5
    min_curve_velocity: 2.74
    decel_distance_before_curve: 3.5
    decel_distance_after_curve: 2.0
    resample_ds: 0.1
    curvature_threshold: 0.02
    curvature_calculation_distance: 5.0

    lateral_acceleration_limits: [0.8, 0.8, 0.8, 0.8]
    velocity_thresholds: [0.1, 0.3, 20.0, 30.0]
    steering_angle_rate_limits: [57.0, 57.0, 57.0, 40.0]

    max_trajectory_length: 200.0
    min_trajectory_length: 150.0
    resample_time: 2.0
    dense_resample_dt: 0.2
    dense_min_interval_distance: 0.5
    sparse_resample_dt: 0.5
    sparse_min_interval_distance: 0.5

    # JerkFilteredSmoother parameters (required at top level)
    jerk_weight: 10.0
    over_v_weight: 100000.0
    over_a_weight: 5000.0
    over_j_weight: 2000.0
    jerk_filter_ds: 0.1
