<?xml version="1.0"?>
<launch>
  <arg name="input_objects" default="/perception/object_recognition/objects"/>
  <arg name="input_pointcloud" default="/perception/obstacle_segmentation/pointcloud"/>
  <arg name="input_predicted_path" default="/planning/scenario_planning/trajectory"/>
  <arg name="output_filtered_objects" default="/perception/object_recognition/filtered_objects"/>
  <arg name="output_filtered_pointcloud" default="/perception/obstacle_segmentation/filtered_pointcloud"/>
  <arg name="debug_filtering_markers" default="/perception_filter_node/debug/filtering_markers"/>
  <arg name="perception_filter_param_path" default="$(find-pkg-share autoware_perception_filter)/config/perception_filter.param.yaml"/>

  <node pkg="autoware_perception_filter" exec="autoware_perception_filter_node" name="perception_filter_node" output="both">
    <remap from="input/objects" to="$(var input_objects)"/>
    <remap from="input/pointcloud" to="$(var input_pointcloud)"/>
    <remap from="input/predicted_path" to="$(var input_predicted_path)"/>
    <remap from="output/filtered_objects" to="$(var output_filtered_objects)"/>
    <remap from="output/filtered_pointcloud" to="$(var output_filtered_pointcloud)"/>
    <remap from="debug/filtering_markers" to="$(var debug_filtering_markers)"/>
    <param from="$(var perception_filter_param_path)"/>
  </node>
</launch>
